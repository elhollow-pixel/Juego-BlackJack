const miModulo=(()=>{"use strict";let d=[],e=["C","D","H","S"],f=["A","J","Q","K"],g=[],a=document.querySelector("#btnNuevo"),b=document.querySelector("#btnPedir"),c=document.querySelector("#btnDetener"),h=document.querySelectorAll(".divCartas"),i=document.querySelectorAll("small"),j=(e=2)=>{d=k(),g=[];for(let a=0;a<e;a++)g.push(0);i.forEach(a=>a.innerText=0),h.forEach(a=>a.innerHTML=""),c.disabled=!1,b.disabled=!1},k=()=>{d=[];for(let a=2;a<=10;a++)for(let b of e)d.push(a+b);for(let c of e)for(let g of f)d.push(g+c);return _.shuffle(d)},l=()=>{if(0===d.length)throw"No hay cartas en el deck papus";let a=d[Math.floor(Math.random()*d.length)],b=d.indexOf(a);return d.splice(b,1),a},m=b=>{let a=b.substring(0,b.length-1);return isNaN(a)?"A"===a?11:10:1*a},n=(b,a)=>(g[a]=g[a]+m(b),i[a].innerHTML=g[a],g[a]),o=(b,c)=>{let a=document.createElement("img");a.src=`assets/cartas/cartas/${b}.png`,a.classList.add("cartas"),h[c].append(a)},p=a=>{let b=0;do{let c=l();b=n(c,g.length-1),o(c,g.length-1)}while(b<a&&a<=21)q()},q=()=>{let[a,b]=g;setTimeout(()=>{b===a?alert("EMPATE ;V"):a>21?alert("PC GANA"):b>21?alert("HUMANOS GANA"):alert("PC GANA XDDD")},100)};return b.addEventListener("click",()=>{c.disabled=!1;let d=l(),a=n(d,0);o(d,0),a>21?(console.warn("Has perdido carnal "+a),b.disabled=!0,c.disabled=!0,p(a)):21===a&&(console.warn("21,genial"),b.disabled=!0,c.disabled=!0,p(a))}),c.addEventListener("click",()=>{b.disabled=!0,c.disabled=!0,p(g[0])}),a.addEventListener("click",()=>{j()}),{}})()